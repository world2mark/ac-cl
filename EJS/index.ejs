<!DOCTYPE html>

<head>
    <meta charset='utf-8'>
    <title>Cockroach DB Demo Platform</title>
    <script src='//code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous'></script>
    <script src='/client.js'></script>
    <style>
        body {
            font-family: Trebuchet MS;
        }
        
        h1 {
            font-family: Trebuchet MS;
        }
        
        table {
            border-spacing: 0;
        }
        
        .csField {
            height: 2em;
            width: 50em;
            margin: 0.3em;
            padding: 0.3em;
        }
        
        .MyButton {
            height: 3em;
            margin: 0.5em;
            padding-left: 3em;
            padding-right: 3em;
            font-family: 'Trebuchet MS';
            background: transparent;
            border: 2px solid lightgray;
        }
        
        .MyButton:hover {
            border: 2px solid blue;
            -webkit-transition: 0.2s ease-in-out;
            -moz-transition: 0.2s ease-in-out;
            -o-transition: 0.2s ease-in-out;
            transition: 0.2s ease-in-out;
        }
        
        .myAnimation {
            -webkit-transition: 0.4s ease-in-out;
            -moz-transition: 0.4s ease-in-out;
            -o-transition: 0.4s ease-in-out;
            transition: 0.4s ease-in-out;
        }
        
        .StepTable {
            margin: auto;
            width: 900px;
        }
        
        .MainSteps {
            padding: 0.25em;
            font-family: 'Trebuchet MS';
            font-size: 1.25em;
            border: 2px solid darkslateblue;
            background: darkslateblue;
            color: orange;
        }
        
        .MainContents {
            border: 2px solid darkslateblue;
            display: block;
            overflow: hidden;
        }
        
        .StepDone {
            color: lightgreen;
        }
        
        .MyTextArea {
            font-size: 0.8em;
            color: darkgreen;
            border: 2px solid lightslategray;
            padding: 0.5em;
            margin: 0.5em;
            resize: none;
        }
        
        .lds-spinner {
            transform: scale(0.33);
            display: none;
            position: absolute;
            left: 0;
            width: 40px;
            height: 40px;
        }
        
        .lds-spinner div {
            transform-origin: 40px 40px;
            animation: lds-spinner 1.2s linear infinite;
        }
        
        .lds-spinner div:after {
            content: " ";
            display: block;
            position: absolute;
            top: 3px;
            left: 37px;
            width: 6px;
            height: 18px;
            border-radius: 20%;
            background: blue;
        }
        
        .lds-spinner div:nth-child(1) {
            transform: rotate(0deg);
            animation-delay: -1.1s;
        }
        
        .lds-spinner div:nth-child(2) {
            transform: rotate(30deg);
            animation-delay: -1s;
        }
        
        .lds-spinner div:nth-child(3) {
            transform: rotate(60deg);
            animation-delay: -0.9s;
        }
        
        .lds-spinner div:nth-child(4) {
            transform: rotate(90deg);
            animation-delay: -0.8s;
        }
        
        .lds-spinner div:nth-child(5) {
            transform: rotate(120deg);
            animation-delay: -0.7s;
        }
        
        .lds-spinner div:nth-child(6) {
            transform: rotate(150deg);
            animation-delay: -0.6s;
        }
        
        .lds-spinner div:nth-child(7) {
            transform: rotate(180deg);
            animation-delay: -0.5s;
        }
        
        .lds-spinner div:nth-child(8) {
            transform: rotate(210deg);
            animation-delay: -0.4s;
        }
        
        .lds-spinner div:nth-child(9) {
            transform: rotate(240deg);
            animation-delay: -0.3s;
        }
        
        .lds-spinner div:nth-child(10) {
            transform: rotate(270deg);
            animation-delay: -0.2s;
        }
        
        .lds-spinner div:nth-child(11) {
            transform: rotate(300deg);
            animation-delay: -0.1s;
        }
        
        .lds-spinner div:nth-child(12) {
            transform: rotate(330deg);
            animation-delay: 0s;
        }
        
        @keyframes lds-spinner {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <h1>Cockroach Labs Demo - Mark Zlamal</h1>
    <p>
        Github repo to this project: <a target='#' href='https://github.com/world2mark/ac-cl'>https://github.com/world2mark/ac-cl</a>
    </p>
    <p>
        This is a demo platform that can be used to test &amp; validate CockroachDB installations in a cloud environment.
    </p>
    <p>
        The purpose of this project is to demonstrate technical skills in deploying the database as a 3 node cluster managed by OpenShift.
    </p>
    <table class='StepTable'>
        <tr>
            <td class='myAnimation MainSteps'>
                <table>
                    <tr>
                        <td id='Step1Header' style='width: 100%;'>Step 1: paste your client-root-crt file</td>
                        <td><img src='/Images?id=check' id='check01' style='height: 32px; opacity: 0;' /></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td id='Step1Contents' style='height: 10em;' class='myAnimation MainContents'>
                <table>
                    <tr>
                        <td>
                            <textarea id='ClientRootCRT' class='MyTextArea' placeholder='-----BEGIN CERTIFICATE----- ...' cols='80' rows='10'></textarea>
                        </td>
                        <td>
                            <div style='position: relative'>
                                <input id='SaveCRT' class='MyButton' type='button' value='Save'>
                                <div id='Step1Spinner' class="lds-spinner">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <p></p>
    <table class='StepTable'>
        <tr>
            <td class='myAnimation MainSteps'>
                <table>
                    <tr>
                        <td id='Step2Header' style='width: 100%;'>Step 2: Cockroach DB Connection String</td>
                        <td><img src='/Images?id=check' id='check02' style='height: 32px; opacity: 0;' /></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td id='Step2Contents' style='height: 0;' class='myAnimation MainContents'>
                <table>
                    <tr>
                        <td>
                            <input class='csField' type='text' id='CRDB_Connection_String' placeholder='eg: postgres://&lt;uid&gt;:&lt;serverURL&gt;:&lt;port&gt;/&lt;dbName&gt;'>
                        </td>
                        <td>
                            <div style='position: relative'>
                                <input id='ConnectDB' class='MyButton' type='button' value='Connect'>
                                <div id='Step2Spinner' class="lds-spinner">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <p></p>
    <table class='StepTable'>
        <tr>
            <td class='myAnimation MainSteps'>
                <table>
                    <tr>
                        <td id='Step3Header' style='width: 100%;'>Step 3: DB Exploration</td>
                        <td><img src='/Images?id=check' id='check03' style='height: 32px; opacity: 0;' /></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td id='Step3Contents' style='height: 0;' class='myAnimation MainContents'>
                <table>
                    <tr>
                        <td>
                            <input class='csField' type='text' id='SQLStmt' placeholder='eg: SHOW TABLES;'>
                        </td>
                        <td>
                            <div style='position: relative'>
                                <input id='SQLRun' class='MyButton' type='button' value='Run!'>
                                <div id='Step3Spinner' class="lds-spinner">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <td>
                            <textarea cols='80' rows='20' id='SQLResults'></textarea>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <p></p>
    <table class='StepTable'>
        <tr>
            <td class='myAnimation MainSteps'>
                <table>
                    <tr>
                        <td id='Step4Header' style='width: 100%;'>Step 4: DB Load &amp; special ops</td>
                        <td><img src='/Images?id=check' id='check04' style='height: 32px; opacity: 0;' /></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td id='Step4Contents' style='height: 0;' class='myAnimation MainContents'>
                <table>
                    <tr>
                        <td>
                            Recreate test table
                        </td>
                        <td>
                            <div id='RecreateTableDiv' style='position: relative'>
                                <input id='RecreateTableBtn' class='MyButton' type='button' value='Recreate Table'>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Create rows (1000)
                        </td>
                        <td>
                            <div id='CreateRowsDiv' style='position: relative'>
                                <input id='CreateRows' class='MyButton' type='button' value='Create Rows'>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Random Query will load the server with select statements using random float numbers.
                        </td>
                        <td>
                            <div id='RandomQueryStartDiv' style='position: relative'>
                                <input id='RandomQueryStart' class='MyButton' type='button' value='Random Query Start'>
                                <input id='RandomQueryStop' class='MyButton' type='button' value='Random Query Stop'>
                            </div>
                        </td>
                        <td>
                            <span id='RandomResultBox'></span>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <p></p>
    <div style='padding: 1em;font-size: 0.75em; color:darkgray;'>
        <table style='margin: auto;'>
            <tr>
                <td>
                    <img src='/Images?id=cl' style='height: 64px' />
                </td>
                <td style='padding-left: 2em;'>
                    <a href='/'>Click to reset DB connections &amp; client interface</a>
                    <br /> Last Updated: Jan 26, 2022
                </td>
            </tr>
        </table>
    </div>
</body>

</html>